<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0,viewport-fit=cover"><title>基础命令5 | 荒岛</title><meta name="author" content="为霜"><meta name="copyright" content="为霜"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="[toc] 限制系统资源命令：ulimitulimit命令 用来限制系统用户对shell资源的访问。如果不懂什么意思，下面一段内容可以帮助你理解：">
<meta property="og:type" content="article">
<meta property="og:title" content="基础命令5">
<meta property="og:url" content="http://example.com/2024/01/19/linux/basical%20instruction5/basical%20instruction5/index.html">
<meta property="og:site_name" content="荒岛">
<meta property="og:description" content="[toc] 限制系统资源命令：ulimitulimit命令 用来限制系统用户对shell资源的访问。如果不懂什么意思，下面一段内容可以帮助你理解：">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://example.com/img/lm.jpg">
<meta property="article:published_time" content="2024-01-19T08:00:00.000Z">
<meta property="article:modified_time" content="2024-01-22T07:41:38.730Z">
<meta property="article:author" content="为霜">
<meta property="article:tag" content="linux">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://example.com/img/lm.jpg"><link rel="shortcut icon" href="/img/firework.png"><link rel="canonical" href="http://example.com/2024/01/19/linux/basical%20instruction5/basical%20instruction5/index.html"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css?v=4.12.0"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.5.1/css/all.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = {
  root: '/',
  algolia: undefined,
  localSearch: {"path":"/search.xml","preload":false,"top_n_per_article":1,"unescape":false,"languages":{"hits_empty":"找不到您查询的内容：${query}","hits_stats":"共找到 ${hits} 篇文章"}},
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlight.js","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  dateSuffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  infinitegrid: {
    js: 'https://cdn.jsdelivr.net/npm/@egjs/infinitegrid@4.11.0/dist/infinitegrid.min.js',
    buttonText: '加载更多'
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false,
  percent: {
    toc: true,
    rightside: false,
  },
  autoDarkmode: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '基础命令5',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-01-22 15:41:38'
}</script><script>(win=>{
      win.saveToLocal = {
        set: (key, value, ttl) => {
          if (ttl === 0) return
          const now = Date.now()
          const expiry = now + ttl * 86400000
          const item = {
            value,
            expiry
          }
          localStorage.setItem(key, JSON.stringify(item))
        },
      
        get: key => {
          const itemStr = localStorage.getItem(key)
      
          if (!itemStr) {
            return undefined
          }
          const item = JSON.parse(itemStr)
          const now = Date.now()
      
          if (now > item.expiry) {
            localStorage.removeItem(key)
            return undefined
          }
          return item.value
        }
      }
    
      win.getScript = (url, attr = {}) => new Promise((resolve, reject) => {
        const script = document.createElement('script')
        script.src = url
        script.async = true
        script.onerror = reject
        script.onload = script.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          script.onload = script.onreadystatechange = null
          resolve()
        }

        Object.keys(attr).forEach(key => {
          script.setAttribute(key, attr[key])
        })

        document.head.appendChild(script)
      })
    
      win.getCSS = (url, id = false) => new Promise((resolve, reject) => {
        const link = document.createElement('link')
        link.rel = 'stylesheet'
        link.href = url
        if (id) link.id = id
        link.onerror = reject
        link.onload = link.onreadystatechange = function() {
          const loadState = this.readyState
          if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
          link.onload = link.onreadystatechange = null
          resolve()
        }
        document.head.appendChild(link)
      })
    
      win.activateDarkMode = () => {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = () => {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
        if (t === 'dark') activateDarkMode()
        else if (t === 'light') activateLightMode()
      
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
      const detectApple = () => {
        if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
          document.documentElement.classList.add('apple')
        }
      }
      detectApple()
    })(window)</script><link rel="stylesheet" href="/css/background.css"><meta name="generator" content="Hexo 7.1.1"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/loading.gif" data-original="/img/lm.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><hr class="custom-hr"/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/zl.jpg')"><nav id="nav"><span id="blog-info"><a href="/" title="荒岛"><span class="site-name">荒岛</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 主页</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fa fa-graduation-cap"></i><span> 博文</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/categories/"><i class="fa-fw fa fa-archive"></i><span> 分类</span></a></li><li><a class="site-page child" href="/tags/"><i class="fa-fw fa fa-tags"></i><span> 标签</span></a></li><li><a class="site-page child" href="/archives/"><i class="fa-fw fa fa-folder-open"></i><span> 归档</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 生活</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/shuoshuo/"><i class="fa-fw fa fa-comments-o"></i><span> 分享</span></a></li><li><a class="site-page child" href="/photos/"><i class="fa-fw fa fa-camera-retro"></i><span> 相册</span></a></li><li><a class="site-page child" href="/music/"><i class="fa-fw fa fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 影视</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/comment/"><i class="fa-fw fa fa-paper-plane"></i><span> 留言板</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于笔者</span></a></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">基础命令5</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2024-01-19T08:00:00.000Z" title="发表于 2024-01-19 16:00:00">2024-01-19</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2024-01-22T07:41:38.730Z" title="更新于 2024-01-22 15:41:38">2024-01-22</time></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">11.5k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>52分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="基础命令5"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><!-- toc -->

<p>[toc]</p>
<h2 id="限制系统资源命令：ulimit"><a href="#限制系统资源命令：ulimit" class="headerlink" title="限制系统资源命令：ulimit"></a>限制系统资源命令：ulimit</h2><p><strong>ulimit命令</strong> 用来限制系统用户对shell资源的访问。如果不懂什么意思，下面一段内容可以帮助你理解：</p>
<span id="more"></span>

<p>假设有这样一种情况，当一台 Linux 主机上同时登陆了 10 个人，在系统资源无限制的情况下，这 10 个用户同时打开了 500 个文档，而假设每个文档的大小有 10M，这时系统的内存资源就会受到巨大的挑战。</p>
<p>而实际应用的环境要比这种假设复杂的多，例如在一个嵌入式开发环境中，各方面的资源都是非常紧缺的，对于开启文件描述符的数量，分配堆栈的大 小，CPU 时间，虚拟内存大小，等等，都有非常严格的要求。资源的合理限制和分配，不仅仅是保证系统可用性的必要条件，也与系统上软件运行的性能有着密不可分的联 系。这时，ulimit 可以起到很大的作用，它是一种简单并且有效的实现资源限制的方式。</p>
<p>ulimit 用于限制 shell 启动进程所占用的资源，支持以下各种类型的限制：所创建的内核文件的大小、进程数据块的大小、Shell 进程创建文件的大小、内存锁住的大小、常驻内存集的大小、打开文件描述符的数量、分配堆栈的最大大小、CPU 时间、单个用户的最大线程数、Shell 进程所能使用的最大虚拟内存。同时，它支持硬资源和软资源的限制。</p>
<p>作为临时限制，ulimit 可以作用于通过使用其命令登录的 shell 会话，在会话终止时便结束限制，并不影响于其他 shell 会话。而对于长期的固定限制，ulimit 命令语句又可以被添加到由登录 shell 读取的文件中，作用于特定的 shell 用户。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ulimit(选项)</p>
</blockquote>
<br>

<br>





<p><strong>选项</strong></p>
<blockquote>
<p>-a：显示目前资源限制的设定；</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~/linuxcommandtry$ ulimit -a</span><br><span class="line">core file size          (blocks, -c) 0</span><br><span class="line">data seg size           (kbytes, -d) unlimited</span><br><span class="line">scheduling priority             (-e) 0</span><br><span class="line">file size               (blocks, -f) unlimited</span><br><span class="line">pending signals                 (-i) 15188</span><br><span class="line">max locked memory       (kbytes, -l) 65536</span><br><span class="line">max memory size         (kbytes, -m) unlimited</span><br><span class="line">open files                      (-n) 1024</span><br><span class="line">pipe size            (512 bytes, -p) 8</span><br><span class="line">POSIX message queues     (bytes, -q) 819200</span><br><span class="line">real-time priority              (-r) 0</span><br><span class="line">stack size              (kbytes, -s) 8192</span><br><span class="line">cpu time               (seconds, -t) unlimited</span><br><span class="line">max user processes              (-u) 15188</span><br><span class="line">virtual memory          (kbytes, -v) unlimited</span><br><span class="line">file locks                      (-x) unlimited</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>-c &lt;core文件上限&gt;：设定core文件的最大值，单位为区块；</p>
<p>-d &lt;数据节区大小&gt;：程序数据节区的最大值，单位为KB；</p>
<p>-e 默认进程优先级, 值越小优先级越高 </p>
<p>-f &lt;文件大小&gt;：shell所能建立的最大文件，单位为区块；</p>
<p>-H：设定资源的硬性限制，也就是管理员所设下的限制； </p>
<p>-m &lt;内存大小&gt;：指定可使用内存的上限，单位为KB； </p>
<p>-n &lt;文件数目&gt;：指定同一时间最多可开启的文件数； </p>
<p>-p &lt;缓冲区大小&gt;：指定管道缓冲区的大小，单位512字节； </p>
<p>-s &lt;堆叠大小&gt;：指定堆叠的上限，单位为KB； </p>
<p>-S：设定资源的弹性限制； </p>
<p>-t &lt;CPU时间&gt;：指定CPU使用时间的上限，单位为秒； </p>
<p>-u &lt;程序数目&gt;：用户最多可开启的程序数目； </p>
<p>-v &lt;虚拟内存大小&gt;：指定可使用的虚拟内存上限，单位为KB。</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~/linuxcommandtry$ ulimit -n 2048</span><br><span class="line">frost@frost-virtual-machine:~/linuxcommandtry$ ulimit -a | grep open</span><br><span class="line">open files                      (-n) 2048</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>其他同理</p>
<br>

<br>

<br>

<br>

<br>



<h2 id="切换系统运行级别命令：init"><a href="#切换系统运行级别命令：init" class="headerlink" title="切换系统运行级别命令：init"></a>切换系统运行级别命令：init</h2><p><strong>init命令</strong> 是Linux下的进程初始化工具，init进程是所有Linux进程的父进程，它的进程号为1。init命令是Linux操作系统中不可缺少的程序之一，init进程是Linux内核引导运行的，是系统中的第一个进程。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>init(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>运行等级：指定Linux系统要切换到的运行等级。</li>
</ul>
<blockquote>
<p>#0  停机（千万不能把initdefault 设置为0）</p>
<p>#1  单用户模式</p>
<p>#2  多用户，没有 NFS(和级别3相似，会停止部分服务)</p>
<p>#3  完全多用户模式</p>
<p>#4  没有用到</p>
<p>#5  x11(Xwindow)图形化界面模式</p>
<p>#6  重新启动（千万不要把initdefault 设置为6）</p>
</blockquote>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>eg：</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~/linuxcommandtry$ sudo init 3</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="/2024/01/19/linux/basical%20instruction5/basical%20instruction5/image-20240119161636513.png" alt="image-20240119161636513"></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo init 5</span><br></pre></td></tr></table></figure>

<p><img src="/img/loading.gif" data-original="/2024/01/19/linux/basical%20instruction5/basical%20instruction5/image-20240119162530217.png" alt="image-20240119162530217"></p>
<br>

<br>

<br>

<br>

<br>



<h2 id="控制系统服务命令：service"><a href="#控制系统服务命令：service" class="headerlink" title="控制系统服务命令：service"></a>控制系统服务命令：service</h2><p><strong>service命令</strong> 是Redhat Linux兼容的发行版中用来控制系统服务的实用工具，它以启动、停止、重新启动和关闭系统服务，还可以显示所有系统服务的当前状态。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>service(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>服务名：自动要控制的服务名，即<code>/etc/init.d</code>目录下的脚本文件名；</li>
<li>控制命令：系统服务脚本支持的控制命令。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>显示所有服务状态 –status-all</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service --status-all</span><br><span class="line"> [ - ]  acpid</span><br><span class="line"> [ - ]  alsa-utils</span><br><span class="line"> [ - ]  anacron</span><br><span class="line"> [ + ]  apparmor</span><br><span class="line"> [ + ]  apport</span><br><span class="line"> [ + ]  avahi-daemon</span><br><span class="line"> [ + ]  bluetooth</span><br><span class="line"> [ - ]  console-setup.sh</span><br><span class="line"> [ + ]  cron</span><br><span class="line"> [ + ]  cups</span><br><span class="line"> [ + ]  cups-browsed</span><br><span class="line"> [ + ]  dbus</span><br><span class="line"> [ + ]  gdm3</span><br><span class="line"> [ - ]  grub-common</span><br><span class="line"> [ - ]  hwclock.sh</span><br><span class="line"> [ + ]  irqbalance</span><br><span class="line"> [ + ]  kerneloops</span><br><span class="line"> [ - ]  keyboard-setup.sh</span><br><span class="line"> [ + ]  kmod</span><br><span class="line"> [ + ]  network-manager</span><br><span class="line"> [ + ]  nmbd</span><br><span class="line"> [ + ]  open-vm-tools</span><br><span class="line"> [ + ]  openvpn</span><br><span class="line"> [ - ]  plymouth</span><br><span class="line"> [ - ]  plymouth-log</span><br><span class="line"> [ - ]  pppd-dns</span><br><span class="line"> [ + ]  procps</span><br><span class="line"> [ - ]  pulseaudio-enable-autospawn</span><br><span class="line"> [ - ]  rsync</span><br><span class="line"> [ + ]  rsyslog</span><br><span class="line"> [ - ]  samba-ad-dc</span><br><span class="line"> [ - ]  saned</span><br><span class="line"> [ + ]  smbd</span><br><span class="line"> [ - ]  speech-dispatcher</span><br><span class="line"> [ - ]  spice-vdagent</span><br><span class="line"> [ + ]  ssh</span><br><span class="line"> [ + ]  udev</span><br><span class="line"> [ + ]  ufw</span><br><span class="line"> [ + ]  unattended-upgrades</span><br><span class="line"> [ - ]  uuidd</span><br><span class="line"> [ + ]  whoopsie</span><br><span class="line"> [ - ]  x11-common</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>加号说明在运行，减号说明停止</p>
<br>

<br>



<blockquote>
<p>查看sshd服务的状态      status</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service sshd status</span><br><span class="line">● ssh.service - OpenBSD Secure Shell server</span><br><span class="line">     Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)</span><br><span class="line">     Active: active (running) since Fri 2024-01-19 16:22:21 CST; 14min ago</span><br><span class="line">       Docs: man:sshd(8)</span><br><span class="line">             man:sshd_config(5)</span><br><span class="line">    Process: 931 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)</span><br><span class="line">   Main PID: 945 (sshd)</span><br><span class="line">      Tasks: 1 (limit: 4556)</span><br><span class="line">     Memory: 3.9M</span><br><span class="line">     CGroup: /system.slice/ssh.service</span><br><span class="line">             └─945 sshd: /usr/sbin/sshd -D [listener] 0 of 10-100 startups</span><br><span class="line"></span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine systemd[1]: Starting OpenBSD Secure Shell server...</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine sshd[945]: Server listening on 0.0.0.0 port 22.</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine sshd[945]: Server listening on :: port 22.</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine systemd[1]: Started OpenBSD Secure Shell server.</span><br><span class="line">Jan 19 16:23:57 frost-virtual-machine sshd[2797]: Accepted password for frost from 192.16&gt;</span><br><span class="line">Jan 19 16:23:57 frost-virtual-machine sshd[2797]: pam_unix(sshd:session): session opened &gt;</span><br><span class="line">lines 1-18/18 (END)...</span><br></pre></td></tr></table></figure>



<blockquote>
<p>停止sshd服务     stop</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service sshd stop</span><br><span class="line">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class="line">Authentication is required to stop &#x27;ssh.service&#x27;.</span><br><span class="line">Authenticating as: frost,,, (frost)</span><br><span class="line">Password: </span><br><span class="line">==== AUTHENTICATION COMPLETE ===</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service sshd status</span><br><span class="line">● ssh.service - OpenBSD Secure Shell server</span><br><span class="line">     Loaded: loaded (/lib/systemd/system/ssh.service; enabled; vendor preset: enabled)</span><br><span class="line">     Active: inactive (dead) since Fri 2024-01-19 16:40:09 CST; 26s ago</span><br><span class="line">       Docs: man:sshd(8)</span><br><span class="line">             man:sshd_config(5)</span><br><span class="line">    Process: 931 ExecStartPre=/usr/sbin/sshd -t (code=exited, status=0/SUCCESS)</span><br><span class="line">    Process: 945 ExecStart=/usr/sbin/sshd -D $SSHD_OPTS (code=exited, status=0/SUCCESS)</span><br><span class="line">   Main PID: 945 (code=exited, status=0/SUCCESS)</span><br><span class="line"></span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine systemd[1]: Starting OpenBSD Secure Shell server...</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine sshd[945]: Server listening on 0.0.0.0 port 22.</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine sshd[945]: Server listening on :: port 22.</span><br><span class="line">Jan 19 16:22:21 frost-virtual-machine systemd[1]: Started OpenBSD Secure Shell server.</span><br><span class="line">Jan 19 16:23:57 frost-virtual-machine sshd[2797]: Accepted password for frost from 192.16&gt;</span><br><span class="line">Jan 19 16:23:57 frost-virtual-machine sshd[2797]: pam_unix(sshd:session): session opened &gt;</span><br><span class="line">Jan 19 16:40:09 frost-virtual-machine systemd[1]: Stopping OpenBSD Secure Shell server...</span><br><span class="line">Jan 19 16:40:09 frost-virtual-machine sshd[945]: Received signal 15; terminating.</span><br><span class="line">Jan 19 16:40:09 frost-virtual-machine systemd[1]: ssh.service: Succeeded.</span><br><span class="line">Jan 19 16:40:09 frost-virtual-machine systemd[1]: Stopped OpenBSD Secure Shell server.</span><br><span class="line">lines 1-19/19 (END)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>状态从active(running)变成了inactive</p>
<br>

<br>

<blockquote>
<p>启动服务  start</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service sshd start</span><br><span class="line">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class="line">Authentication is required to start &#x27;ssh.service&#x27;.</span><br><span class="line">Authenticating as: frost,,, (frost)</span><br><span class="line">Password: </span><br><span class="line">==== AUTHENTICATION COMPLETE ===</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>重新启动服务   restart </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ service sshd restart</span><br><span class="line">==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units ===</span><br><span class="line">Authentication is required to restart &#x27;ssh.service&#x27;.</span><br><span class="line">Authenticating as: frost,,, (frost)</span><br><span class="line">Password: </span><br><span class="line">==== AUTHENTICATION COMPLETE ===</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="显示虚拟内存状态命令：vmstat"><a href="#显示虚拟内存状态命令：vmstat" class="headerlink" title="显示虚拟内存状态命令：vmstat"></a>显示虚拟内存状态命令：vmstat</h2><p><strong>vmstat命令</strong> 的含义为显示虚拟内存状态（“Viryual Memor Statics”），但是它可以报告关于进程、内存、I&#x2F;O等系统整体运行状态。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>vmstat(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>事件间隔：状态信息刷新的时间间隔；</li>
<li>次数：显示报告的次数。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 1  0      0 934424  47296 1638768    0    0   243    28  136  197  0  1 98  0  0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p><strong>字段说明：</strong></p>
<p>Procs（进程）</p>
<ul>
<li>r: 运行队列中进程数量，这个值也可以判断是否需要增加CPU。（长期大于1）</li>
<li>b: 等待IO的进程数量。</li>
</ul>
<p>Memory（内存）</p>
<ul>
<li>swpd: 使用虚拟内存大小，如果swpd的值不为0，但是SI，SO的值长期为0，这种情况不会影响系统性能。</li>
<li>free: 空闲物理内存大小。</li>
<li>buff: 用作缓冲的内存大小。</li>
<li>cache: 用作缓存的内存大小，如果cache的值大的时候，说明cache处的文件数多，如果频繁访问到的文件都能被cache处，那么磁盘的读IO bi会非常小。</li>
</ul>
<p>Swap</p>
<ul>
<li>si: 每秒从交换区写到内存的大小，由磁盘调入内存。</li>
<li>so: 每秒写入交换区的内存大小，由内存调入磁盘。</li>
</ul>
<p>注意：内存够用的时候，这2个值都是0，如果这2个值长期大于0时，系统性能会受到影响，磁盘IO和CPU资源都会被消耗。有些朋友看到空闲内存（free）很少的或接近于0时，就认为内存不够用了，不能光看这一点，还要结合si和so，如果free很少，但是si和so也很少（大多时候是0），那么不用担心，系统性能这时不会受到影响的。</p>
<p>IO（现在的Linux版本块的大小为1kb）</p>
<ul>
<li>bi: 每秒读取的块数</li>
<li>bo: 每秒写入的块数</li>
</ul>
<p>注意：随机磁盘读写的时候，这2个值越大（如超出1024k)，能看到CPU在IO等待的值也会越大。</p>
<p>system（系统）</p>
<ul>
<li>in: 每秒中断数，包括时钟中断。</li>
<li>cs: 每秒上下文切换数。</li>
</ul>
<p>注意：上面2个值越大，会看到由内核消耗的CPU时间会越大。</p>
<p>CPU（以百分比表示）</p>
<ul>
<li>us: 用户进程执行时间百分比(user time)</li>
</ul>
<p>us的值比较高时，说明用户进程消耗的CPU时间多，但是如果长期超50%的使用，那么我们就该考虑优化程序算法或者进行加速。</p>
<ul>
<li>sy: 内核系统进程执行时间百分比(system time)</li>
</ul>
<p>sy的值高时，说明系统内核消耗的CPU资源多，这并不是良性表现，我们应该检查原因。</p>
<ul>
<li>wa: IO等待时间百分比</li>
</ul>
<p>wa的值高时，说明IO等待比较严重，这可能由于磁盘大量作随机访问造成，也有可能磁盘出现瓶颈（块操作）。</p>
<ul>
<li>id: 空闲时间百分比</li>
</ul>
<br>

<br>



<blockquote>
<p>两个参数 </p>
<ul>
<li>事件间隔：状态信息刷新的时间间隔（单位秒）；</li>
<li>次数：显示报告的次数。</li>
</ul>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat 2 1</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 1  0      0 940248  47384 1638776    0    0   204    24  131  187  0  1 98  0  0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>一个参数：多少秒刷新一次</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat 1</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free   buff  cache   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 1  0      0 939960  47444 1638780    0    0   194    23  130  185  0  1 98  0  0</span><br><span class="line"> 0  0      0 940464  47444 1638780    0    0     0     0  337  456  0  0 100  0  0</span><br><span class="line"> 0  0      0 940464  47444 1638780    0    0     0     0  333  484  0  1 99  0  0</span><br><span class="line"> 0  0      0 940464  47444 1638780    0    0     0     0  598  655  0  2 98  0  0</span><br><span class="line"> 0  0      0 940716  47444 1638780    0    0     0     0  322  455  0  1 99  0  0</span><br><span class="line">^C</span><br><span class="line">frost@frost-virtual-machine:~$ </span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示活跃和非活跃内存统计信息      -a</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat -a</span><br><span class="line">procs -----------memory---------- ---swap-- -----io---- -system-- ------cpu-----</span><br><span class="line"> r  b   swpd   free  inact active   si   so    bi    bo   in   cs us sy id wa st</span><br><span class="line"> 2  0      0 940696 1666864 850760    0    0   182    21  128  182  0  1 98  0  0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>原本的buff和cache变成了inactive 和 active</p>
<br>

<br>

<blockquote>
<p>显示从系统启动以来的fork数量      -f</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat -f</span><br><span class="line">        27666 forks</span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示内存使用的详细信息    -s</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat -s</span><br><span class="line">      3969632 K total memory</span><br><span class="line">      1343212 K used memory</span><br><span class="line">       850920 K active memory</span><br><span class="line">      1666140 K inactive memory</span><br><span class="line">       939956 K free memory</span><br><span class="line">        47628 K buffer memory</span><br><span class="line">      1638836 K swap cache</span><br><span class="line">       945416 K total swap</span><br><span class="line">            0 K used swap</span><br><span class="line">       945416 K free swap</span><br><span class="line">         3110 non-nice user cpu ticks</span><br><span class="line">          208 nice user cpu ticks</span><br><span class="line">         8546 system cpu ticks</span><br><span class="line">       976364 idle cpu ticks</span><br><span class="line">          312 IO-wait cpu ticks</span><br><span class="line">            0 IRQ cpu ticks</span><br><span class="line">         2369 softirq cpu ticks</span><br><span class="line">            0 stolen cpu ticks</span><br><span class="line">      1457659 pages paged in</span><br><span class="line">       172177 pages paged out</span><br><span class="line">            0 pages swapped in</span><br><span class="line">            0 pages swapped out</span><br><span class="line">      1226029 interrupts</span><br><span class="line">      1710403 CPU context switches</span><br><span class="line">   1705652537 boot time</span><br><span class="line">        31395 forks</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示磁盘相关统计信息       -d</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat -d</span><br><span class="line">disk- ------------reads------------ ------------writes----------- -----IO------</span><br><span class="line">       total merged sectors      ms  total merged sectors      ms    cur    sec</span><br><span class="line">loop0     14      0      34       0      0      0       0       0      0      0</span><br><span class="line">loop1     56      0    2160      28      0      0       0       0      0      0</span><br><span class="line">loop2     50      0     724      16      0      0       0       0      0      0</span><br><span class="line">loop3    424      0   11530      80      0      0       0       0      0      0</span><br><span class="line">loop4     45      0     696      13      0      0       0       0      0      0</span><br><span class="line">loop5   2079      0   51500     226      0      0       0       0      0      0</span><br><span class="line">loop6     43      0     702      10      0      0       0       0      0      0</span><br><span class="line">loop7     54      0    2146      28      0      0       0       0      0      0</span><br><span class="line">sr0       56      0    2157       7      0      0       0       0      0      0</span><br><span class="line">sda    25610   7088 2773300    6964   4343   2568  344402    1929      0     12</span><br><span class="line">loop8     57      0    2132      19      0      0       0       0      0      0</span><br><span class="line">loop9    225      0    6854      38      0      0       0       0      0      0</span><br><span class="line">loop11     58      0    2216      17      0      0       0       0      0      0</span><br><span class="line">loop12     43      0     696       6      0      0       0       0      0      0</span><br><span class="line">loop10   1802      0   10860     101      0      0       0       0      0      0</span><br><span class="line">loop13    640      0   47588     394      0      0       0       0      0      2</span><br><span class="line">loop14     11      0      28      11      0      0       0       0      0      0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示&#x2F;dev&#x2F;sda1磁盘分区的读&#x2F;写情况</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ vmstat -p /dev/sda1</span><br><span class="line">sda1            reads      read sectors      writes  requested writes</span><br><span class="line">                  166             13446           2                 2</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示系统的slabinfo</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo vmstat -m</span><br><span class="line">[sudo] password for frost: </span><br><span class="line">Cache                       Num  Total   Size  Pages</span><br><span class="line">isofs_inode_cache            46     46    688     23</span><br><span class="line">AF_VSOCK                     50     50   1280     25</span><br><span class="line">ext4_groupinfo_4k           168    168    192     21</span><br><span class="line">fsverity_info                 0      0    256     16</span><br><span class="line">fscrypt_info                  0      0    136     30</span><br><span class="line">MPTCPv6                       0      0   2048     16</span><br><span class="line">ip6-frags                     0      0    184     22</span><br><span class="line">……</span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="监视系统输入输出设备和CPU的使用情况命令：iostat"><a href="#监视系统输入输出设备和CPU的使用情况命令：iostat" class="headerlink" title="监视系统输入输出设备和CPU的使用情况命令：iostat"></a>监视系统输入输出设备和CPU的使用情况命令：iostat</h2><p><strong>iostat命令</strong> 被用于监视系统输入输出设备和CPU的使用情况。它的特点是汇报磁盘活动统计情况，同时也会汇报出CPU使用情况。同vmstat一样，iostat也有一个弱点，就是它不能对某个进程进行深入分析，仅对系统的整体情况进行分析</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>iostat(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>间隔时间：每次报告的间隔时间（秒）；</li>
<li>次数：显示报告的次数。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>需要安装 sysstat</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo apt install sysstat</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           0.30    0.05    1.09    0.03    0.00   98.53</span><br><span class="line"></span><br><span class="line">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br><span class="line">loop0             0.00         0.01         0.00         0.00         17          0          0</span><br><span class="line">loop1             0.02         0.36         0.00         0.00       1080          0          0</span><br><span class="line">loop10            0.60         1.82         0.00         0.00       5430          0          0</span><br><span class="line">loop11            0.02         0.37         0.00         0.00       1108          0          0</span><br><span class="line">loop12            0.01         0.12         0.00         0.00        348          0          0</span><br><span class="line">loop13            0.21         7.96         0.00         0.00      23794          0          0</span><br><span class="line">loop14            0.00         0.00         0.00         0.00         14          0          0</span><br><span class="line">loop2             0.02         0.12         0.00         0.00        362          0          0</span><br><span class="line">loop3             0.14         1.93         0.00         0.00       5765          0          0</span><br><span class="line">loop4             0.02         0.12         0.00         0.00        348          0          0</span><br><span class="line">loop5             0.70         8.61         0.00         0.00      25750          0          0</span><br><span class="line">loop6             0.01         0.12         0.00         0.00        351          0          0</span><br><span class="line">loop7             0.02         0.36         0.00         0.00       1073          0          0</span><br><span class="line">loop8             0.02         0.36         0.00         0.00       1066          0          0</span><br><span class="line">loop9             0.08         1.15         0.00         0.00       3427          0          0</span><br><span class="line">sda              10.65       468.67        84.26         0.00    1401666     251989          0</span><br><span class="line">scd0              0.02         0.36         0.00         0.00       1078          0          0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>cpu属性值说明：</p>
<ul>
<li>%user：CPU处在用户模式下的时间百分比。</li>
<li>%nice：CPU处在带NICE值的用户模式下的时间百分比。</li>
<li>%system：CPU处在系统模式下的时间百分比。</li>
<li>%iowait：CPU等待输入输出完成时间的百分比。</li>
<li>%steal：管理程序维护另一个虚拟处理器时，虚拟CPU的无意识等待时间百分比。</li>
<li>%idle：CPU空闲时间百分比</li>
</ul>
<p><br><br></p>
<p>其每一列的含义如下所示：</p>
<ul>
<li>Device：&#x2F;dev 目录下的磁盘（或分区）名称</li>
<li>tps：该设备每秒的传输次数。一次传输即一次 I&#x2F;O 请求，多个逻辑请求可能会被合并为一次 I&#x2F;O 请求。一次传输请求的大小是未知的</li>
<li>kB_read&#x2F;s：每秒从磁盘读取数据大小，单位KB&#x2F;s</li>
<li>kB_wrtn&#x2F;s：每秒写入磁盘的数据的大小，单位KB&#x2F;s</li>
<li>kB_dscd&#x2F;s: 每秒磁盘的丢块数，单数KB&#x2F;s</li>
<li>kB_read：从磁盘读出的数据总数，单位KB</li>
<li>kB_wrtn：写入磁盘的的数据总数，单位KB</li>
<li>kB_dscd: 磁盘总的丢块数量</li>
</ul>
<blockquote>
<p>两个参数： 每隔几秒显示   显示几次</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat 3 2</span><br><span class="line">……</span><br></pre></td></tr></table></figure>

<p>每隔3秒显示一次 一共2次</p>
<br>

<br>

<blockquote>
<p>指定固定的磁盘     -d</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -d sda</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br><span class="line">sda               9.41       411.12        74.30         0.00    1401670     253313          0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示每个报告产生时的时间      -t</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -t </span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">01/19/2024 05:20:11 PM</span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           0.28    0.04    1.05    0.02    0.00   98.61</span><br><span class="line"></span><br><span class="line">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br><span class="line">……</span><br><span class="line">……</span><br></pre></td></tr></table></figure>



<blockquote>
<p>以MB为单位显示（默认字节为单位）     -m</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -m </span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           0.28    0.04    1.04    0.02    0.00   98.62</span><br><span class="line"></span><br><span class="line">Device             tps    MB_read/s    MB_wrtn/s    MB_dscd/s    MB_read    MB_wrtn    MB_dscd</span><br><span class="line">loop0             0.00         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop1             0.02         0.00         0.00         0.00          1          0          0</span><br><span class="line">loop10            0.51         0.00         0.00         0.00          5          0          0</span><br><span class="line">loop11            0.02         0.00         0.00         0.00          1          0          0</span><br><span class="line">loop12            0.01         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop13            0.18         0.01         0.00         0.00         23          0          0</span><br><span class="line">loop14            0.00         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop2             0.01         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop3             0.12         0.00         0.00         0.00          5          0          0</span><br><span class="line">loop4             0.01         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop5             0.59         0.01         0.00         0.00         25          0          0</span><br><span class="line">loop6             0.01         0.00         0.00         0.00          0          0          0</span><br><span class="line">loop7             0.02         0.00         0.00         0.00          1          0          0</span><br><span class="line">loop8             0.02         0.00         0.00         0.00          1          0          0</span><br><span class="line">loop9             0.06         0.00         0.00         0.00          3          0          0</span><br><span class="line">sda               9.05         0.39         0.07         0.00       1368        247          0</span><br><span class="line">scd0              0.02         0.00         0.00         0.00          1          0          0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>查看tps和吞吐量信息    -d -k</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -d -k</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">Device             tps    kB_read/s    kB_wrtn/s    kB_dscd/s    kB_read    kB_wrtn    kB_dscd</span><br><span class="line">loop0             0.00         0.00         0.00         0.00         17          0          0</span><br><span class="line">loop1             0.02         0.30         0.00         0.00       1080          0          0</span><br><span class="line">loop10            0.50         1.50         0.00         0.00       5430          0          0</span><br><span class="line">……</span><br><span class="line">……</span><br></pre></td></tr></table></figure>



<blockquote>
<p>查看磁盘I&#x2F;O详细信息  -x &#x2F;dev&#x2F;*</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -x /dev/sda</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           0.27    0.04    1.03    0.02    0.00   98.64</span><br><span class="line"></span><br><span class="line">Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz  aqu-sz  %util</span><br><span class="line">sda              7.07    371.75     2.08  22.73    0.27    52.57    1.55     67.56     1.07  40.80    0.43    43.49    0.00      0.00     0.00   0.00    0.00     0.00    0.00   0.38</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>查看设备使用率（%util）、响应时间（await）  -d -k -x </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat -x -d -k 11</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_        (4 CPU)</span><br><span class="line"></span><br><span class="line">Device            r/s     rkB/s   rrqm/s  %rrqm r_await rareq-sz     w/s     wkB/s   wrqm/s  %wrqm w_await wareq-sz     d/s     dkB/s   drqm/s  %drqm d_await dareq-sz  aqu-sz  %util</span><br><span class="line">loop0            0.00      0.00     0.00   0.00    0.00     1.21    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00   0.00</span><br><span class="line">loop1            0.01      0.27     0.00   0.00    0.50    19.29    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00   0.00</span><br><span class="line">loop10           0.46      1.38     0.00   0.00    0.06     3.01    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00   0.01</span><br><span class="line">loop11           0.01      0.28     0.00   0.00    0.29    19.10    0.00      0.00     0.00   0.00    0.00     0.00    0.00      0.00     0.00   0.00    0.00     0.00    0.00   0.00</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>查看CPU状态  -c</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ iostat  -c 13</span><br><span class="line">Linux 5.15.0-91-generic (frost-virtual-machine)         01/19/2024      _x86_64_    (4 CPU)</span><br><span class="line"></span><br><span class="line">avg-cpu:  %user   %nice %system %iowait  %steal   %idle</span><br><span class="line">           0.26    0.04    1.01    0.02    0.00   98.67</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>







<br>

<br>

<br>

<br>

<br>

<h2 id="显示进程间通信设备状态命令：ipcs"><a href="#显示进程间通信设备状态命令：ipcs" class="headerlink" title="显示进程间通信设备状态命令：ipcs"></a>显示进程间通信设备状态命令：ipcs</h2><p><strong>ipcs命令</strong> 用于报告Linux中进程间通信设施的状态，显示的信息包括消息列表、共享内存和信号量的信息。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ipcs(选项)</p>
</blockquote>
<br>

<br>





<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs</span><br><span class="line"></span><br><span class="line">------ Message Queues --------</span><br><span class="line">key        msqid      owner      perms      used-bytes   messages    </span><br><span class="line"></span><br><span class="line">------ Shared Memory Segments --------</span><br><span class="line">key        shmid      owner      perms      bytes      nattch     status      </span><br><span class="line">0x00000000 4          frost      600        524288     2          dest         </span><br><span class="line">0x00000000 7          frost      600        4194304    2          dest         </span><br><span class="line">0x00000000 8          frost      600        524288     2          dest         </span><br><span class="line"></span><br><span class="line">------ Semaphore Arrays --------</span><br><span class="line">key        semid      owner      perms      nsems  </span><br></pre></td></tr></table></figure>

<p>消息队列 共享内存 信号量所有信息</p>
<br>



<blockquote>
<p>输出信息的详细变化时间     -t</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs -t</span><br><span class="line"></span><br><span class="line">------ Message Queues Send/Recv/Change Times --------</span><br><span class="line">msqid    owner      send                 recv                 change              </span><br><span class="line"></span><br><span class="line">------ Shared Memory Attach/Detach/Change Times --------</span><br><span class="line">shmid      owner      attached             detached             changed             </span><br><span class="line">4          frost      Jan 21 08:56:14      Jan 21 08:56:14      Jan 21 08:56:14     </span><br><span class="line">7          frost      Jan 21 08:57:00      Not set              Jan 21 08:57:00     </span><br><span class="line">8          frost      Jan 21 08:57:00      Not set              Jan 21 08:57:00     </span><br><span class="line">11         frost      Jan 21 09:02:04      Not set              Jan 21 09:02:04     </span><br><span class="line"></span><br><span class="line">------ Semaphore Operation/Change Times --------</span><br><span class="line">semid    owner      last-op                    last-changed     </span><br></pre></td></tr></table></figure>



<blockquote>
<p>输出ipc方式的创建者&#x2F;拥有者       -c</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs -c</span><br><span class="line">------ Message Queues Send/Recv/Change Times --------</span><br><span class="line">msqid    owner      send                 recv                 change              </span><br><span class="line"></span><br><span class="line">------ Shared Memory Attach/Detach/Change Times --------</span><br><span class="line">shmid      owner      attached             detached             changed             </span><br><span class="line">4          frost      Jan 21 08:56:14      Jan 21 08:56:14      Jan 21 08:56:14     </span><br><span class="line">7          frost      Jan 21 08:57:00      Not set              Jan 21 08:57:00     </span><br><span class="line">8          frost      Jan 21 08:57:00      Not set              Jan 21 08:57:00     </span><br><span class="line">11         frost      Jan 21 09:02:04      Not set              Jan 21 09:02:04     </span><br><span class="line"></span><br><span class="line">------ Semaphore Operation/Change Times --------</span><br><span class="line">semid    owner      last-op                    last-changed     </span><br></pre></td></tr></table></figure>



<blockquote>
<p>输出ipc方式的进程ID          -p</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs -p</span><br><span class="line"></span><br><span class="line">------ Message Queues PIDs --------</span><br><span class="line">msqid      owner      lspid      lrpid     </span><br><span class="line"></span><br><span class="line">------ Shared Memory Creator/Last-op PIDs --------</span><br><span class="line">shmid      owner      cpid       lpid      </span><br><span class="line">4          frost      1798       2017      </span><br><span class="line">7          frost      3274       1100      </span><br><span class="line">8          frost      1515       1100      </span><br><span class="line">11         frost      3392       1100      </span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>输出当前系统下ipc各种方式的状态信息     -u</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs -u</span><br><span class="line"></span><br><span class="line">------ Messages Status --------</span><br><span class="line">allocated queues = 0</span><br><span class="line">used headers = 0</span><br><span class="line">used space = 0 bytes</span><br><span class="line"></span><br><span class="line">------ Shared Memory Status --------</span><br><span class="line">segments allocated 4</span><br><span class="line">pages allocated 1408</span><br><span class="line">pages resident  136</span><br><span class="line">pages swapped   0</span><br><span class="line">Swap performance: 0 attempts     0 successes</span><br><span class="line"></span><br><span class="line">------ Semaphore Status --------</span><br><span class="line">used arrays = 0</span><br><span class="line">allocated semaphores = 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>查看各个资源的系统限制信息      -l</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ipcs -l</span><br><span class="line"></span><br><span class="line">------ Messages Limits --------</span><br><span class="line">max queues system wide = 32000</span><br><span class="line">max size of message (bytes) = 8192</span><br><span class="line">default max size of queue (bytes) = 16384</span><br><span class="line"></span><br><span class="line">------ Shared Memory Limits --------</span><br><span class="line">max number of segments = 4096</span><br><span class="line">max seg size (kbytes) = 18014398509465599</span><br><span class="line">max total shared memory (kbytes) = 18014398509481980</span><br><span class="line">min seg size (bytes) = 1</span><br><span class="line"></span><br><span class="line">------ Semaphore Limits --------</span><br><span class="line">max number of arrays = 32000</span><br><span class="line">max semaphores per array = 32000</span><br><span class="line">max semaphores system wide = 1024000000</span><br><span class="line">max ops per semop call = 500</span><br><span class="line">semaphore max value = 32767</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="删除指定ipc资源：ipcrm"><a href="#删除指定ipc资源：ipcrm" class="headerlink" title="删除指定ipc资源：ipcrm"></a>删除指定ipc资源：ipcrm</h2><p><strong>ipcrm命令</strong> 用来删除一个或更多的消息队列、信号量集或者共享内存标识。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ipcrm [ -m SharedMemoryID ] [ -M SharedMemoryKey ] [ -q MessageID ] [ -Q MessageKey ] [ -s SemaphoreID ] [ -S SemaphoreKey ]</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>1</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>-m SharedMemory id 删除共享内存标识 SharedMemoryID。与 SharedMemoryID 有关联的共享内存段以及数据结构都会在最后一次拆离操作后删除。</p>
<p>-M SharedMemoryKey 删除用关键字 SharedMemoryKey 创建的共享内存标识。与其相关的共享内存段和数据结构段都将在最后一次拆离操作后删除。</p>
<p>-q MessageID 删除消息队列标识 MessageID 和与其相关的消息队列和数据结构。</p>
<p>-Q MessageKey 删除由关键字 MessageKey 创建的消息队列标识和与其相关的消息队列和数据结构。</p>
<p>-s SemaphoreID 删除信号量标识 SemaphoreID 和与其相关的信号量集及数据结构。</p>
<p>-S SemaphoreKey 删除由关键字 SemaphoreKey 创建的信号标识和与其相关的信号量集和数据结构。</p>
</blockquote>
<br>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">eg:</span><br><span class="line">ipcrm -m 262144 	通过id删除共享内存</span><br><span class="line">ipcrm -M 0x55		通过key删除共享内存</span><br><span class="line">ipcrm -q 252432		通过id删除消息队列</span><br><span class="line">ipcrm -Q 0x88		通过key删除消息队列</span><br><span class="line">ipcrm -s 242438		通过id删除消息量	</span><br><span class="line">ipcrm -S 0x65		通过key删除信息量</span><br><span class="line">ipcrm -a 			删除所有共享内容、消息量和消息队列</span><br><span class="line">ipcrm -v -a			删除所有共享内容、消息量和消息队列，并显示过程</span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="显示并设置IP路由表：route"><a href="#显示并设置IP路由表：route" class="headerlink" title="显示并设置IP路由表：route"></a>显示并设置IP路由表：route</h2><p><strong>route命令</strong> 用来显示并设置Linux内核中的网络路由表，route命令设置的路由主要是静态路由。要实现两个不同的子网之间的通信，需要一台连接两个网络的路由器，或者同时位于两个网络的网关来实现。</p>
<p>在Linux系统中设置路由通常是为了解决以下问题：该Linux系统在一个局域网中，局域网中有一个网关，能够让机器访问Internet，那么就需要将这台机器的ip地址设置为Linux机器的默认路由。要注意的是，直接在命令行下执行route命令来添加路由，不会永久保存，当网卡重启或者机器重启之后，该路由就失效了；可以在<code>/etc/rc.local</code>中添加route命令来保证该路由设置永久有效。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>route(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>add：增加指定的路由记录； </li>
<li>del：删除指定的路由记录； </li>
<li>target：目的网络或目的主机；</li>
<li>gw：设置默认网关； </li>
<li>mss：设置TCP的最大区块长度（MSS），单位MB； </li>
<li>window：指定通过路由表的TCP连接的TCP窗口大小； </li>
<li>dev：路由记录所表示的网络接口。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ route</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">default         192.168.249.2   0.0.0.0         UG    100    0        0 ens33</span><br><span class="line">link-local      0.0.0.0         255.255.0.0     U     1000   0        0 ens33</span><br><span class="line">192.168.249.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<br>

<p>其中Flags为路由标志，标记当前网络节点的状态，Flags标志说明：</p>
<ul>
<li>U Up表示此路由当前为启动状态。</li>
<li>H Host，表示此网关为一主机。</li>
<li>G Gateway，表示此网关为一路由器。</li>
<li>R Reinstate Route，使用动态路由重新初始化的路由。</li>
<li>D Dynamically,此路由是动态性地写入。</li>
<li>M Modified，此路由是由路由守护程序或导向器动态修改。</li>
<li>! 表示此路由当前为关闭状态。</li>
</ul>
<br>

<br>

<blockquote>
<p>-n：不执行DNS反向查找，直接显示数字形式的IP地址；</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">0.0.0.0         192.168.249.2   0.0.0.0         UG    100    0        0 ens33</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 ens33</span><br><span class="line">192.168.249.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>添加网关&#x2F;设置网关</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo route add -net 224.0.0.0 netmask 240.0.0.0 dev ens33</span><br><span class="line">[sudo] password for frost: </span><br><span class="line">frost@frost-virtual-machine:~$ route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">0.0.0.0         192.168.249.2   0.0.0.0         UG    100    0        0 ens33</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 ens33</span><br><span class="line">192.168.249.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33</span><br><span class="line">224.0.0.0       0.0.0.0         240.0.0.0       U     0      0        0 ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>屏蔽一条路由</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo route add -net 224.0.0.0 netmask 240.0.0.0 reject</span><br><span class="line">frost@frost-virtual-machine:~$ route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">0.0.0.0         192.168.249.2   0.0.0.0         UG    100    0        0 ens33</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 ens33</span><br><span class="line">192.168.249.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33</span><br><span class="line">224.0.0.0       -               240.0.0.0       !     0      -        0 -</span><br><span class="line">224.0.0.0       0.0.0.0         240.0.0.0       U     0      0        0 ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>删除路由记录</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo route del -net 224.0.0.0 netmask 240.0.0.0 reject </span><br><span class="line">frost@frost-virtual-machine:~$ sudo route del -net 224.0.0.0 netmask 240.0.0.0 dev ens33</span><br><span class="line">frost@frost-virtual-machine:~$ route -n</span><br><span class="line">Kernel IP routing table</span><br><span class="line">Destination     Gateway         Genmask         Flags Metric Ref    Use Iface</span><br><span class="line">0.0.0.0         192.168.249.2   0.0.0.0         UG    100    0        0 ens33</span><br><span class="line">169.254.0.0     0.0.0.0         255.255.0.0     U     1000   0        0 ens33</span><br><span class="line">192.168.249.0   0.0.0.0         255.255.255.0   U     100    0        0 ens33</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>



<h2 id="网络连通测试命令：ping"><a href="#网络连通测试命令：ping" class="headerlink" title="网络连通测试命令：ping"></a>网络连通测试命令：ping</h2><p><strong>ping命令</strong> 用来测试主机之间网络的连通性。执行ping指令会使用ICMP传输协议，发出要求回应的信息，若远端主机的网络功能没有问题，就会回应该信息，因而得知该主机运作正常。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ping (选项) (参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>目的主机：指定发送ICMP报文的目的主机。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ping www.baidu.com</span><br><span class="line">PING www.a.shifen.com (183.2.172.42) 56(84) bytes of data.</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=1 ttl=128 time=8.49 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=2 ttl=128 time=8.63 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=3 ttl=128 time=8.59 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=4 ttl=128 time=9.02 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=5 ttl=128 time=8.51 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=6 ttl=128 time=8.67 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=7 ttl=128 time=8.34 ms</span><br><span class="line">^C</span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line">7 packets transmitted, 7 received, 0% packet loss, time 6012ms</span><br><span class="line">rtt min/avg/max/mdev = 8.335/8.605/9.021/0.198 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>-c&lt;完成次数&gt;：设置完成要求回应的次数；</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ping -c 4 www.baidu.com</span><br><span class="line">PING www.a.shifen.com (183.2.172.42) 56(84) bytes of data.</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=1 ttl=128 time=8.52 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=2 ttl=128 time=8.42 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=3 ttl=128 time=8.50 ms</span><br><span class="line">64 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=4 ttl=128 time=8.67 ms</span><br><span class="line"></span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3006ms</span><br><span class="line">rtt min/avg/max/mdev = 8.417/8.527/8.669/0.090 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>测试局域网连通性</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ping 192.168.1.5</span><br><span class="line">PING 192.168.1.5 (192.168.1.5) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=1 ttl=128 time=0.482 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=2 ttl=128 time=0.541 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=3 ttl=128 time=0.519 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=4 ttl=128 time=0.598 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=5 ttl=128 time=0.662 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=6 ttl=128 time=0.504 ms</span><br><span class="line">64 bytes from 192.168.1.5: icmp_seq=7 ttl=128 time=0.635 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.1.5 ping statistics ---</span><br><span class="line">7 packets transmitted, 7 received, 0% packet loss, time 6142ms</span><br><span class="line">rtt min/avg/max/mdev = 0.482/0.563/0.662/0.064 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>每隔3秒测一次   -i </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ping -c 4 -i 3 www.baidu.com</span><br><span class="line">PING www.baidu.com (183.2.172.185) 56(84) bytes of data.</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=1 ttl=128 time=7.66 ms</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=2 ttl=128 time=7.84 ms</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=3 ttl=128 time=7.74 ms</span><br><span class="line">64 bytes from 183.2.172.185 (183.2.172.185): icmp_seq=4 ttl=128 time=7.69 ms</span><br><span class="line"></span><br><span class="line">--- www.baidu.com ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 9010ms</span><br><span class="line">rtt min/avg/max/mdev = 7.660/7.731/7.838/0.067 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>设置数据包为1024字节，TTL为255 </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ping -s 1024 -t 255 www.baidu.com</span><br><span class="line">PING www.a.shifen.com (183.2.172.42) 1024(1052) bytes of data.</span><br><span class="line">1032 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=1 ttl=128 time=8.54 ms</span><br><span class="line">1032 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=2 ttl=128 time=8.91 ms</span><br><span class="line">1032 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=3 ttl=128 time=8.78 ms</span><br><span class="line">1032 bytes from 183.2.172.42 (183.2.172.42): icmp_seq=4 ttl=128 time=8.89 ms</span><br><span class="line">^C</span><br><span class="line">--- www.a.shifen.com ping statistics ---</span><br><span class="line">4 packets transmitted, 4 received, 0% packet loss, time 3006ms</span><br><span class="line">rtt min/avg/max/mdev = 8.543/8.780/8.906/0.144 ms</span><br><span class="line"></span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="追踪数据包传输路径命令：traceroute"><a href="#追踪数据包传输路径命令：traceroute" class="headerlink" title="追踪数据包传输路径命令：traceroute"></a>追踪数据包传输路径命令：traceroute</h2><p><strong>traceroute命令</strong> 用于追踪数据包在网络上的传输时的全部路径，它默认发送的数据包大小是40字节。</p>
<p>通过traceroute我们可以知道信息从你的计算机到互联网另一端的主机是走的什么路径。当然每次数据包由某一同样的出发点（source）到达某一同样的目的地(destination)走的路径可能会不一样，但基本上来说大部分时候所走的路由是相同的。</p>
<p>traceroute通过发送小的数据包到目的设备直到其返回，来测量其需要多长时间。一条路径上的每个设备traceroute要测3次。输出结果中包括每次测试的时间(ms)和设备的名称（如有的话）及其ip地址。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>traceroute(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>主机：指定目的主机IP地址或主机名。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>追踪本地数据包到百度的传输地址</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.42), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2 (192.168.249.2)  0.345 ms  0.289 ms  0.234 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * *</span><br><span class="line"> 8  * * *</span><br><span class="line"> 9  * * *</span><br><span class="line">10  * * *</span><br><span class="line">11  * * *</span><br><span class="line">12  * *^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>跳数设置   -m</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -m 7 www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.185), 7 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2 (192.168.249.2)  0.711 ms  0.660 ms  0.614 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  * * *</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示ip地址，不查主机名   -n</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -n www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.42), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2  0.703 ms  0.670 ms  0.618 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  *^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>把探测包的个数设置为4</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -q 4 www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.185), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2 (192.168.249.2)  0.688 ms  0.657 ms  0.561 ms  0.525 ms</span><br><span class="line"> 2  * * * *</span><br><span class="line"> 3  * * * *</span><br><span class="line"> 4  * * * *</span><br><span class="line"> 5  * * * *^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>把对外发探测包的等待响应时间设置为3秒</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -w 3 www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.42), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2 (192.168.249.2)  0.820 ms  0.783 ms  0.760 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  *^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>探测包使用的基本UDP端口设置6888</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -p 6888 www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.185), 30 hops max, 60 byte packets</span><br><span class="line"> 1  192.168.249.2 (192.168.249.2)  0.674 ms  0.641 ms  0.620 ms</span><br><span class="line"> 2  * * *</span><br><span class="line"> 3  * * *</span><br><span class="line"> 4  * * *</span><br><span class="line"> 5  * * *</span><br><span class="line"> 6  * * *</span><br><span class="line"> 7  *^C</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>绕过正常的路由表，直接发送到网络相连的主机</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ traceroute -r www.baidu.com</span><br><span class="line">traceroute to www.baidu.com (183.2.172.42), 30 hops max, 60 byte packets</span><br><span class="line">connect: Network is unreachable</span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>



<h2 id="显示或设置网络设备参数命令：ifconfig"><a href="#显示或设置网络设备参数命令：ifconfig" class="headerlink" title="显示或设置网络设备参数命令：ifconfig"></a>显示或设置网络设备参数命令：ifconfig</h2><p><strong>ifconfig命令</strong> 被用于配置和显示Linux内核中网络接口的网络参数。用ifconfig命令配置的网卡信息，在<strong>网卡重启后机器重启后，配置就不存在</strong>。要想将上述的配置信息永远的存的电脑里，那就要<strong>修改网卡的配置文件</strong>了。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ifconfig(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>add&lt;地址&gt;：设置网络设备IPv6的ip地址； </li>
<li>del&lt;地址&gt;：删除网络设备IPv6的IP地址； </li>
<li>down：关闭指定的网络设备； </li>
<li>&lt;hw&lt;网络设备类型&gt;&lt;硬件地址&gt;：设置网络设备的类型与硬件地址； </li>
<li>io_addr&lt;I&#x2F;O地址&gt;：设置网络设备的I&#x2F;O地址； </li>
<li>irq&lt;IRQ地址&gt;：设置网络设备的IRQ； </li>
<li>media&lt;网络媒介类型&gt;：设置网络设备的媒介类型； </li>
<li>mem_start&lt;内存地址&gt;：设置网络设备在主内存所占用的起始地址； </li>
<li>metric&lt;数目&gt;：指定在计算数据包的转送次数时，所要加上的数目； </li>
<li>mtu&lt;字节&gt;：设置网络设备的MTU； </li>
<li>netmask&lt;子网掩码&gt;：设置网络设备的子网掩码； </li>
<li>tunnel&lt;地址&gt;：建立IPv4与IPv6之间的隧道通信地址； </li>
<li>up：启动指定的网络设备； </li>
<li>-broadcast&lt;地址&gt;：将要送往指定地址的数据包当成广播数据包来处理； </li>
<li>-pointopoint&lt;地址&gt;：与指定地址的网络设备建立直接连线，此模式具有保密功能； </li>
<li>-promisc：关闭或启动指定网络设备的promiscuous模式； </li>
<li>IP地址：指定网络设备的IP地址； </li>
<li>网络设备：指定网络设备的名称。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ ifconfig</span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.249.128  netmask 255.255.255.0  broadcast 192.168.249.255</span><br><span class="line">        inet6 fe80::ba7c:534c:d8a3:d2fc  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:61:c4:61  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 41743  bytes 9539916 (9.5 MB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 78569  bytes 20196223 (20.1 MB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line">        device interrupt 19  base 0x2000  </span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 207  bytes 20352 (20.3 KB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 207  bytes 20352 (20.3 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>ens33</strong>:网卡名称   </p>
<p><strong>inet</strong>:IPv4地址      </p>
<p><strong>netmask</strong>:子网掩码     </p>
<p><strong>broadcast</strong>:广播地址     </p>
<p><strong>inet6</strong>:IPv6地址     </p>
<p><strong>ether</strong>:mac地址（相当网卡身份证）</p>
<p><strong>lo</strong> 是表示主机的回坏地址，这个一般是用来测试一个网络程序，但又不想让局域网或外网的用户能够查看，只能在此台主机上运行和查看所用的网络接口。比如把 httpd服务器的指定到回坏地址，在浏览器输入127.0.0.1就能看到你所架WEB网站了。但只是您能看得到，局域网的其它主机或用户无从知道。</p>
</blockquote>
<br>

<br>

<blockquote>
<p>关闭&#x2F;打开ens33网卡     down  up</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 down</span><br><span class="line">[sudo] password for frost: </span><br><span class="line">frost@frost-virtual-machine:~$ ifconfig </span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 245  bytes 24082 (24.0 KB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 245  bytes 24082 (24.0 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 up</span><br></pre></td></tr></table></figure>



<blockquote>
<p>配置IPv4地址</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 192.168.249.127 netmask 255.255.255.0 broadcast 192.168.249.254</span><br><span class="line">frost@frost-virtual-machine:~$ ifconfig </span><br><span class="line">ens33: flags=4163&lt;UP,BROADCAST,RUNNING,MULTICAST&gt;  mtu 1500</span><br><span class="line">        inet 192.168.249.127  netmask 255.255.255.0  broadcast 192.168.249.254</span><br><span class="line">        inet6 fe80::ba7c:534c:d8a3:d2fc  prefixlen 64  scopeid 0x20&lt;link&gt;</span><br><span class="line">        ether 00:0c:29:61:c4:61  txqueuelen 1000  (Ethernet)</span><br><span class="line">        RX packets 143342  bytes 26079495 (26.0 MB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 243023  bytes 62074659 (62.0 MB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line">        device interrupt 19  base 0x2000  </span><br><span class="line"></span><br><span class="line">lo: flags=73&lt;UP,LOOPBACK,RUNNING&gt;  mtu 65536</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">        inet6 ::1  prefixlen 128  scopeid 0x10&lt;host&gt;</span><br><span class="line">        loop  txqueuelen 1000  (Local Loopback)</span><br><span class="line">        RX packets 267  bytes 25993 (25.9 KB)</span><br><span class="line">        RX errors 0  dropped 0  overruns 0  frame 0</span><br><span class="line">        TX packets 267  bytes 25993 (25.9 KB)</span><br><span class="line">        TX errors 0  dropped 0 overruns 0  carrier 0  collisions 0</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<blockquote>
<p>为网卡配置和删除IPv6地址</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 add 33ffe:3240:800:1005:2/64</span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 del 33ffe:3240:800:1005:2/64</span><br></pre></td></tr></table></figure>



<blockquote>
<p>修改MAC地址（先关闭，修改后开启）</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 down</span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 hw ether 00:AA:BB:CC:DD:EE</span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 up</span><br></pre></td></tr></table></figure>



<blockquote>
<p>应用和关闭ARP协议</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 arp</span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 -arp</span><br></pre></td></tr></table></figure>



<blockquote>
<p>设置最大传输单元（能通过的最大数据包大小为1500bytes）</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifconfig ens33 mtu 1500</span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="激活禁用网络接口命令：ifup-ifdown"><a href="#激活禁用网络接口命令：ifup-ifdown" class="headerlink" title="激活禁用网络接口命令：ifup_ifdown"></a>激活禁用网络接口命令：ifup_ifdown</h2><p><strong>ifup命令</strong> 用于激活指定的网络接口。</p>
<p><strong>ifdown命令</strong> 用于禁用指定的网络接口。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ifup(参数)</p>
<p>ifdown(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>网络接口：要激活的网络接口。</li>
</ul>
<br>

<br>

<p><strong>选项</strong></p>
<blockquote>
<p>无</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~$ sudo ifup ens33</span><br><span class="line">frost@frost-virtual-machine:~$ sudo ifdwon ens33</span><br></pre></td></tr></table></figure>



<br>

<br>

<br>

<br>

<br>

<h2 id="查看网络相关信息命令：netstat"><a href="#查看网络相关信息命令：netstat" class="headerlink" title="查看网络相关信息命令：netstat"></a>查看网络相关信息命令：netstat</h2><p><strong>netstat命令</strong> 用来打印Linux中网络系统的状态信息，可让你得知整个Linux系统的网络情况。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>netstat(选项)</p>
</blockquote>
<br>

<br>





<p><strong>选项</strong></p>
<blockquote>
<p>-a或–all：显示所有连线中的Socket； </p>
<p>-A&lt;网络类型&gt;或–&lt;网络类型&gt;：列出该网络类型连线中的相关地址； </p>
<p>-c或–continuous：持续列出网络状态； </p>
<p>-C或–cache：显示路由器配置的快取信息； </p>
<p>-e或–extend：显示网络其他相关信息； </p>
<p>-F或–fib：显示FIB； </p>
<p>-g或–groups：显示多重广播功能群组组员名单； </p>
<p>-h或–help：在线帮助； </p>
<p>-i或–interfaces：显示网络界面信息表单； </p>
<p>-l或–listening：显示监控中的服务器的Socket； </p>
<p>-M或–masquerade：显示伪装的网络连线； </p>
<p>-n或–numeric：直接使用ip地址，而不通过域名服务器；</p>
<p>-N或–netlink或–symbolic：显示网络硬件外围设备的符号连接名称； </p>
<p>-o或–timers：显示计时器； </p>
<p>-p或–programs：显示正在使用Socket的程序识别码和程序名称； </p>
<p>-r或–route：显示Routing Table； </p>
<p>-s或–statistice：显示网络工作信息统计表； </p>
<p>-t或–tcp：显示TCP传输协议的连线状况； </p>
<p>-u或–udp：显示UDP传输协议的连线状况； </p>
<p>-v或–verbose：显示指令执行过程； </p>
<p>-V或–version：显示版本信息； </p>
<p>-w或–raw：显示RAW传输协议的连线状况； </p>
<p>-x或–unix：此参数的效果和指定”-A unix”参数相同； </p>
<p>–ip或–inet：此参数的效果和指定”-A inet”参数相同。</p>
</blockquote>
<br>

<br>

<p>eg:</p>
<br>

<blockquote>
<p>列出所有端口 (包括监听和未监听的)</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -a     #列出所有端口</span><br><span class="line">netstat -at    #列出所有tcp端口</span><br><span class="line">netstat -au    #列出所有udp端口    </span><br></pre></td></tr></table></figure>



<blockquote>
<p>列出所有处于监听状态的 Sockets</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -l        #只显示监听端口</span><br><span class="line">netstat -lt       #只列出所有监听 tcp 端口</span><br><span class="line">netstat -lu       #只列出所有监听 udp 端口</span><br><span class="line">netstat -lx       #只列出所有监听 UNIX 端口</span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示每个协议的统计信息</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -s   显示所有端口的统计信息</span><br><span class="line">netstat -st   显示TCP端口的统计信息</span><br><span class="line">netstat -su   显示UDP端口的统计信息</span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示系统网路状态中UDP连接端口号使用信息 </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -apu</span><br></pre></td></tr></table></figure>



<blockquote>
<p>显示状态信息</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -i   #显示网卡当前状态信息</span><br><span class="line">netstat -r   #显示路由器当前状态信息</span><br></pre></td></tr></table></figure>



<blockquote>
<p>找到某个服务所对应的连接信息</p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -ap | grep ssh   </span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="显示活动套接字信息命令：ss"><a href="#显示活动套接字信息命令：ss" class="headerlink" title="显示活动套接字信息命令：ss"></a>显示活动套接字信息命令：ss</h2><p><strong>ss命令</strong> 是比 netstat 好用的socket统计信息，iproute2 包附带的另一个工具，允许你查询 socket 的有关统计信息.</p>
<p>用来显示处于活动状态的套接字信息。ss命令可以用来获取socket统计信息，它可以显示和netstat类似的内容。但ss的优势在于它能够显示更多更详细的有关TCP和连接状态的信息，而且比netstat更快速更高效。</p>
<p>当服务器的socket连接数量变得非常大时，无论是使用netstat命令还是直接<code>cat /proc/net/tcp</code>，执行速度都会很慢。可能你不会有切身的感受，但请相信我，当服务器维持的连接达到上万个的时候，使用netstat等于浪费 生命，而用ss才是节省时间。</p>
<p>天下武功唯快不破。ss快的秘诀在于，它利用到了TCP协议栈中tcp_diag。tcp_diag是一个用于分析统计的模块，可以获得Linux 内核中第一手的信息，这就确保了ss的快捷高效。当然，如果你的系统中没有tcp_diag，ss也可以正常运行，只是效率会变得稍慢。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>ss [参数] </p>
<p>ss [参数] [过滤]</p>
</blockquote>
<br>

<br>





<p><strong>选项</strong></p>
<blockquote>
<p>-h, –help      帮助信息 </p>
<p>-V, –version   程序版本信息 </p>
<p>-n, –numeric   不解析服务名称 </p>
<p>-r, –resolve   解析主机名 </p>
<p>-a, –all       显示所有套接字（sockets） </p>
<p>-l, –listening 显示监听状态的套接字（sockets） </p>
<p>-o, –options   显示计时器信息 </p>
<p>-e, –extended  显示详细的套接字（sockets）信息 </p>
<p>-m, –memory    显示套接字（socket）的内存使用情况 </p>
<p>-p, –processes 显示使用套接字（socket）的进程 </p>
<p>-i, –info      显示 TCP内部信息 </p>
<p>-s, –summary   显示套接字（socket）使用概况 </p>
<p>-4, –ipv4      仅显示IPv4的套接字（sockets） </p>
<p>-6, –ipv6      仅显示IPv6的套接字（sockets） </p>
<p>-0, –packet    显示 PACKET 套接字（socket） </p>
<p>-t, –tcp       仅显示 TCP套接字（sockets） </p>
<p>-u, –udp       仅显示 UCP套接字（sockets） </p>
<p>-d, –dccp      仅显示 DCCP套接字（sockets） </p>
<p>-w, –raw       仅显示 RAW套接字（sockets） </p>
<p>-x, –unix      仅显示 Unix套接字（sockets） </p>
<p>-f, –family&#x3D;FAMILY  显示 FAMILY类型的套接字（sockets），FAMILY可选，支持  unix, inet, inet6, link, netlink </p>
<p>-A, –query&#x3D;QUERY, –socket&#x3D;QUERY      QUERY :&#x3D; {all|inet|tcp|udp|raw|unix|packet|netlink}[,QUERY] </p>
<p>-D, –diag&#x3D;FILE     将原始TCP套接字（sockets）信息转储到文件 </p>
<p>-F, –filter&#x3D;FILE  从文件中都去过滤器信息       FILTER :&#x3D; [ state TCP-STATE ] [ EXPRESSION ]</p>
</blockquote>
<br>

<br>



<blockquote>
<p>eg：显示TCP套接字   </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:/usr/sbin$ ss -at</span><br><span class="line">State  Recv-Q  Send-Q   Local Address:Port           Peer Address:Port Process </span><br><span class="line">LISTEN 0       4096     127.0.0.53%lo:domain              0.0.0.0:*            </span><br><span class="line">LISTEN 0       128            0.0.0.0:ssh                 0.0.0.0:*            </span><br><span class="line">LISTEN 0       5            127.0.0.1:ipp                 0.0.0.0:*            </span><br><span class="line">LISTEN 0       50             0.0.0.0:microsoft-ds        0.0.0.0:*            </span><br><span class="line">LISTEN 0       50             0.0.0.0:netbios-ssn         0.0.0.0:*            </span><br><span class="line">LISTEN 0       128               [::]:ssh                    [::]:*            </span><br><span class="line">LISTEN 0       5                [::1]:ipp                    [::]:*            </span><br><span class="line">LISTEN 0       50                [::]:microsoft-ds           [::]:*            </span><br><span class="line">LISTEN 0       70                   *:33060                     *:*            </span><br><span class="line">LISTEN 0       151                  *:mysql                     *:*            </span><br><span class="line">LISTEN 0       50                [::]:netbios-ssn            [::]:*  </span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ss -au                   #显示UDP套接字</span><br><span class="line">ss -s                    #显示套接字使用情况</span><br><span class="line">ss -l                    #列出所有打开的网络连接端口</span><br><span class="line">ss -pl                   #查看进程使用的socket</span><br><span class="line">ss -lp | grep 6010       #找出打开套接字/端口应用程序</span><br><span class="line">ss -tnl                  #查看主机监听的端口</span><br><span class="line">ss -tlr                  #解析IP和端口号</span><br></pre></td></tr></table></figure>









<br>

<br>

<br>

<br>

<br>

<h2 id="远程登陆服务器命令：telnet"><a href="#远程登陆服务器命令：telnet" class="headerlink" title="远程登陆服务器命令：telnet"></a>远程登陆服务器命令：telnet</h2><p><strong>telnet命令</strong> 用于登录远程主机，对远程主机进行管理。telnet因为采用明文传送报文，安全性不好，很多Linux服务器都不开放telnet服务，而改用更安全的ssh方式了。但仍然有很多别的系统可能采用了telnet方式来提供远程登录，因此弄清楚telnet客户端的使用方式仍是很有必要的。</p>
<br>

<br>



<p><strong>语法</strong></p>
<blockquote>
<p>telnet(选项)(参数)</p>
</blockquote>
<br>

<br>

<p><strong>参数</strong></p>
<ul>
<li>远程主机：指定要登录进行管理的远程主机；</li>
<li>端口：指定TELNET协议使用的端口号。</li>
</ul>
<br>

<br>



<p>在连接过程中遇到一个问题</p>
<p><strong>问题：</strong></p>
<p><img src="/img/loading.gif" data-original="/2024/01/19/linux/basical%20instruction5/basical%20instruction5/image-20240122153147282.png" alt="image-20240122153147282"></p>
<br>

<br>

<p>原因：<strong>能够执行telnet命令并不代表系统中安装了telnet服务</strong>。</p>
<p>由于是远程连接本地(或者可以理解为集群中的主节点要操作副节点)，所以本地需要有telnet服务才能进行连接。</p>
<p>解决方法：</p>
<ol>
<li><p>安装xinetd和telnetd </p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo apt-get install xinetd telnetd</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>创建文件&#x2F;etc&#x2F;inetd.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/inetd.conf</span><br></pre></td></tr></table></figure>

<p>文件中写入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">telnet stream tcp nowait telnetd /usr/sbin/tcpd /usr/sbin/in.telnetd</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>修改文件&#x2F;etc&#x2F;xinetd.conf</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/xinetd.conf</span><br></pre></td></tr></table></figure>

<p>修改内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Simple configuration file for xinetd</span><br><span class="line">#</span><br><span class="line"># Some defaults, and include /etc/xinetd.d/</span><br><span class="line">defaults</span><br><span class="line">&#123;</span><br><span class="line"># Please note that you need a log_type line to be able to use log_on_success</span><br><span class="line"># and log_on_failure. The default is the following :</span><br><span class="line"># log_type = SYSLOG daemon info</span><br><span class="line">instances = 60</span><br><span class="line">log_type = SYSLOG authpriv</span><br><span class="line">log_on_success = HOST PID</span><br><span class="line">log_on_failure = HOST</span><br><span class="line">cps = 25 30</span><br><span class="line">&#125;</span><br><span class="line">includedir /etc/xinetd.d</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>创建文件&#x2F;etc&#x2F;xinetd.d&#x2F;telnet</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sudo vi /etc/xinetd.d/telnet</span><br></pre></td></tr></table></figure>

<p>并输入以下内容：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># default: on</span><br><span class="line"># description: The telnet server serves telnet sessions; it uses \</span><br><span class="line"># unencrypted username/password pairs for authentication.</span><br><span class="line">service telnet</span><br><span class="line">&#123;    </span><br><span class="line">disable = no</span><br><span class="line">flags = REUSE</span><br><span class="line">socket_type = stream</span><br><span class="line">wait = no</span><br><span class="line">user = root</span><br><span class="line">server = /usr/sbin/in.telnetd</span><br><span class="line">log_on_failure += USERID</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>重启系统，查看端口状态</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">netstat -tnl</span><br></pre></td></tr></table></figure>

<p>可以看到正在监听23端口：</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">frost@frost-virtual-machine:~/Desktop$ ss -tnl</span><br><span class="line">State   Recv-Q  Send-Q     Local Address:Port      Peer Address:Port  Process  </span><br><span class="line">LISTEN  0       50               0.0.0.0:139            0.0.0.0:*              </span><br><span class="line">LISTEN  0       4096       127.0.0.53%lo:53             0.0.0.0:*              </span><br><span class="line">LISTEN  0       128              0.0.0.0:22             0.0.0.0:*              </span><br><span class="line">LISTEN  0       5              127.0.0.1:631            0.0.0.0:*              </span><br><span class="line">LISTEN  0       50               0.0.0.0:445            0.0.0.0:*              </span><br><span class="line">LISTEN  0       70                     *:33060                *:*              </span><br><span class="line">LISTEN  0       151                    *:3306                 *:*              </span><br><span class="line">LISTEN  0       50                  [::]:139               [::]:*              </span><br><span class="line">LISTEN  0       128                 [::]:22                [::]:*              </span><br><span class="line">LISTEN  0       64                     *:23                   *:*              </span><br><span class="line">LISTEN  0       5                  [::1]:631               [::]:*              </span><br><span class="line">LISTEN  0       50                  [::]:445               [::]:*    </span><br></pre></td></tr></table></figure>

<br>
</li>
<li><p>此时已经可以通过telnet连接了</p>
</li>
</ol>
<p><img src="/img/loading.gif" data-original="/2024/01/19/linux/basical%20instruction5/basical%20instruction5/image-20240122154043755.png" alt="image-20240122154043755"></p>
<p><strong>选项</strong></p>
<blockquote>
<p>指定端口  </p>
</blockquote>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">telnet 192.168.249.128 23</span><br></pre></td></tr></table></figure>





<br>

<br>

<br>

<br>

<br>

</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="http://example.com">为霜</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="http://example.com/2024/01/19/linux/basical%20instruction5/basical%20instruction5/">http://example.com/2024/01/19/linux/basical instruction5/basical instruction5/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">荒岛</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/linux/">linux</a></div><div class="post_share"><div class="social-share" data-image="/img/lm.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><div class="post-reward"><div class="reward-button"><i class="fas fa-qrcode"></i>赞助</div><div class="reward-main"><ul class="reward-all"><li class="reward-item"><a href="/img/wechat.jpg" target="_blank"><img class="post-qr-code-img" src="/img/loading.gif" data-original="/img/wechat.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li></ul></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2024/01/24/java/java01/java01/" title="java基础语法"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">java基础语法</div></div></a></div><div class="next-post pull-right"><a href="/2023/12/22/linux/basical%20instruction4/basical%20instruction4/" title="基础命令4"><div class="cover" style="background: var(--default-bg-color)"></div><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">基础命令4</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2023/12/20/linux/basical%20instruction1/" title="基础命令1"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-20</div><div class="title">基础命令1</div></div></a></div><div><a href="/2023/12/20/linux/basical%20instruction2/" title="基础命令2"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-20</div><div class="title">基础命令2</div></div></a></div><div><a href="/2023/12/21/linux/basical%20instruction3/" title="基础命令3"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-21</div><div class="title">基础命令3</div></div></a></div><div><a href="/2023/12/22/linux/basical%20instruction4/basical%20instruction4/" title="基础命令4"><div class="cover" style="background: var(--default-bg-color)"></div><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-12-22</div><div class="title">基础命令4</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/loading.gif" data-original="/img/lm.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">为霜</div><div class="author-info__description">履霜 坚冰至</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">13</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">6</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">0</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/frostinf"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/frostinf" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:1875401218@qq.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%99%90%E5%88%B6%E7%B3%BB%E7%BB%9F%E8%B5%84%E6%BA%90%E5%91%BD%E4%BB%A4%EF%BC%9Aulimit"><span class="toc-number">1.</span> <span class="toc-text">限制系统资源命令：ulimit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%B3%BB%E7%BB%9F%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB%E5%91%BD%E4%BB%A4%EF%BC%9Ainit"><span class="toc-number">2.</span> <span class="toc-text">切换系统运行级别命令：init</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%E6%9C%8D%E5%8A%A1%E5%91%BD%E4%BB%A4%EF%BC%9Aservice"><span class="toc-number">3.</span> <span class="toc-text">控制系统服务命令：service</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%99%9A%E6%8B%9F%E5%86%85%E5%AD%98%E7%8A%B6%E6%80%81%E5%91%BD%E4%BB%A4%EF%BC%9Avmstat"><span class="toc-number">4.</span> <span class="toc-text">显示虚拟内存状态命令：vmstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%9B%91%E8%A7%86%E7%B3%BB%E7%BB%9F%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E8%AE%BE%E5%A4%87%E5%92%8CCPU%E7%9A%84%E4%BD%BF%E7%94%A8%E6%83%85%E5%86%B5%E5%91%BD%E4%BB%A4%EF%BC%9Aiostat"><span class="toc-number">5.</span> <span class="toc-text">监视系统输入输出设备和CPU的使用情况命令：iostat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%BF%9B%E7%A8%8B%E9%97%B4%E9%80%9A%E4%BF%A1%E8%AE%BE%E5%A4%87%E7%8A%B6%E6%80%81%E5%91%BD%E4%BB%A4%EF%BC%9Aipcs"><span class="toc-number">6.</span> <span class="toc-text">显示进程间通信设备状态命令：ipcs</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9Aipc%E8%B5%84%E6%BA%90%EF%BC%9Aipcrm"><span class="toc-number">7.</span> <span class="toc-text">删除指定ipc资源：ipcrm</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%B9%B6%E8%AE%BE%E7%BD%AEIP%E8%B7%AF%E7%94%B1%E8%A1%A8%EF%BC%9Aroute"><span class="toc-number">8.</span> <span class="toc-text">显示并设置IP路由表：route</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E8%BF%9E%E9%80%9A%E6%B5%8B%E8%AF%95%E5%91%BD%E4%BB%A4%EF%BC%9Aping"><span class="toc-number">9.</span> <span class="toc-text">网络连通测试命令：ping</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%BD%E8%B8%AA%E6%95%B0%E6%8D%AE%E5%8C%85%E4%BC%A0%E8%BE%93%E8%B7%AF%E5%BE%84%E5%91%BD%E4%BB%A4%EF%BC%9Atraceroute"><span class="toc-number">10.</span> <span class="toc-text">追踪数据包传输路径命令：traceroute</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%88%96%E8%AE%BE%E7%BD%AE%E7%BD%91%E7%BB%9C%E8%AE%BE%E5%A4%87%E5%8F%82%E6%95%B0%E5%91%BD%E4%BB%A4%EF%BC%9Aifconfig"><span class="toc-number">11.</span> <span class="toc-text">显示或设置网络设备参数命令：ifconfig</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%BF%80%E6%B4%BB%E7%A6%81%E7%94%A8%E7%BD%91%E7%BB%9C%E6%8E%A5%E5%8F%A3%E5%91%BD%E4%BB%A4%EF%BC%9Aifup-ifdown"><span class="toc-number">12.</span> <span class="toc-text">激活禁用网络接口命令：ifup_ifdown</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E7%9B%B8%E5%85%B3%E4%BF%A1%E6%81%AF%E5%91%BD%E4%BB%A4%EF%BC%9Anetstat"><span class="toc-number">13.</span> <span class="toc-text">查看网络相关信息命令：netstat</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%B4%BB%E5%8A%A8%E5%A5%97%E6%8E%A5%E5%AD%97%E4%BF%A1%E6%81%AF%E5%91%BD%E4%BB%A4%EF%BC%9Ass"><span class="toc-number">14.</span> <span class="toc-text">显示活动套接字信息命令：ss</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E7%99%BB%E9%99%86%E6%9C%8D%E5%8A%A1%E5%99%A8%E5%91%BD%E4%BB%A4%EF%BC%9Atelnet"><span class="toc-number">15.</span> <span class="toc-text">远程登陆服务器命令：telnet</span></a></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/29/hello-world/" title="Hello World">Hello World</a><time datetime="2024-01-29T07:44:15.468Z" title="发表于 2024-01-29 15:44:15">2024-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/29/C++/C++%20improving%20programming/C++%20improving%20programming/" title="C++ improving programming">C++ improving programming</a><time datetime="2024-01-29T06:20:29.000Z" title="发表于 2024-01-29 14:20:29">2024-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/29/C++/C++%20core%20programming/C++%20core%20programming/" title="C++ core programming">C++ core programming</a><time datetime="2024-01-29T06:19:29.000Z" title="发表于 2024-01-29 14:19:29">2024-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/29/C++/C++%20Basics/C++%20Basics/" title="C++ Basics">C++ Basics</a><time datetime="2024-01-29T06:09:29.000Z" title="发表于 2024-01-29 14:09:29">2024-01-29</time></div></div><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/2024/01/25/mysql/mysql/" title="mysql">mysql</a><time datetime="2024-01-25T13:29:09.000Z" title="发表于 2024-01-25 21:29:09">2024-01-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/zl.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2024 By 为霜</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.12.0"></script><script src="/js/main.js?v=4.12.0"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui@5.0.32/dist/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"></div><canvas class="fireworks" mobile="false"></canvas><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/fireworks.min.js"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/canvas-nest.min.js"></script><script src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1.1.3/dist/activate-power-mode.min.js"></script><script>POWERMODE.colorful = true;
POWERMODE.shake = true;
POWERMODE.mobile = true;
document.body.addEventListener('input', POWERMODE);
</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="local-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><span id="loading-status"></span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="is-center" id="loading-database"><i class="fas fa-spinner fa-pulse"></i><span>  数据库加载中</span></div><div class="search-wrap"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div><hr/><div id="local-search-results"></div><div id="local-search-stats-wrap"></div></div></div><div id="search-mask"></div><script src="/js/search/local-search.js?v=4.12.0"></script></div></div>
        <style>
            [bg-lazy] {
                background-image: none !important;
                background-color: #eee !important;
            }
        </style>
        <script>
            window.imageLazyLoadSetting = {
                isSPA: false,
                preloadRatio: 1,
                processImages: null,
            };
        </script><script>window.addEventListener("load",function(){var t=/\.(gif|jpg|jpeg|tiff|png)$/i,r=/^data:image\/[a-z]+;base64,/;Array.prototype.slice.call(document.querySelectorAll("img[data-original]")).forEach(function(a){var e=a.parentNode;"A"===e.tagName&&(e.href.match(t)||e.href.match(r))&&(e.href=a.dataset.original)})});</script><script>!function(r){r.imageLazyLoadSetting.processImages=t;var e=r.imageLazyLoadSetting.isSPA,n=r.imageLazyLoadSetting.preloadRatio||1,c=a();function a(){var t=Array.prototype.slice.call(document.querySelectorAll("img[data-original]")),e=Array.prototype.slice.call(document.querySelectorAll("[bg-lazy]"));return t.concat(e)}function t(){e&&(c=a());for(var t,o=0;o<c.length;o++)0<=(t=(t=c[o]).getBoundingClientRect()).bottom&&0<=t.left&&t.top<=(r.innerHeight*n||document.documentElement.clientHeight*n)&&function(){var t,e,n,a,i=c[o];e=function(){c=c.filter(function(t){return i!==t}),r.imageLazyLoadSetting.onImageLoaded&&r.imageLazyLoadSetting.onImageLoaded(i)},(t=i).hasAttribute("bg-lazy")?(t.removeAttribute("bg-lazy"),e&&e()):(n=new Image,a=t.getAttribute("data-original"),n.onload=function(){t.src=a,t.removeAttribute("data-original"),e&&e()},t.src!==a&&(n.src=a))}()}function i(){clearTimeout(t.tId),t.tId=setTimeout(t,500)}t(),document.addEventListener("scroll",i),r.addEventListener("resize",i),r.addEventListener("orientationchange",i)}(this);</script></body></html>